# Web 安全渗透测试标准流程（七步）

当任务涉及 Web 安全渗透测试（如 CTF、SQL 注入、找 flag、漏洞验证）时，请严格按以下七步执行，每步尽量有工具输出支撑，仅报告经工具验证的真实发现，不编造漏洞或 flag。

## 步骤与工具对应

1. **访问目标页面**  
   使用 `preview_web_page(url)` 打开目标 URL，在对话预览区查看页面。

2. **查看页面源码/参数**  
   分析 HTML 表单、GET/POST 参数、Cookie、URL 结构，识别潜在注入点（如 id、cat、search、登录表单字段等）。

3. **手动测试特殊字符**  
   在参数中尝试 `'`、`"`、`OR 1=1--` 等，观察报错或响应差异，确认漏洞存在后再进行下一步。未确认前不依赖自动化工具结论。

4. **确定列数**  
   使用 `ORDER BY N` 或 `UNION SELECT null,null,...` 确定列数，为 UNION 注入做准备。

5. **使用 sqlmap（如需要）**  
   仅在手动确认存在注入后，谨慎构造 sqlmap 命令。可先 `search_knowledge("sqlmap ...")` 查阅用法，注意 `--batch`、指定参数、level/risk，避免误伤。

6. **提取数据**  
   通过 UNION 或 sqlmap 获取库名、表名、列名及目标数据（如 flag、用户名密码），并在页面或命令输出中验证结果。

7. **总结真实发现**  
   只报告经上述工具/步骤实际验证的漏洞与数据，不编造结果。

## 原则

- 每步尽量有工具输出支撑。
- 手动验证优先，必要时先检索知识库（如 sqlmap、SQL 注入 payload）再执行。
- 关键词便于检索：preview_web_page、sqlmap、UNION SELECT、注入点、flag。
